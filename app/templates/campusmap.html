{% extends "base.html" %}

{% block bar %}
    <div class="ui blue inverted attached secondary menu" id="topbar">
        <button class="ui icon button" id="left-sidebar-toggle">
          <i class="blue align justify icon"></i>
        </button>

        <a class="item" id="offline-map">
        <i class="teal map icon"></i>Offline Map/Legend</a>

        <div class="ui blue floating labeled icon dropdown button">
          <i class="map marker alternative icon"></i>
          <span class="text" id="start">Current Location</span>
          <div class="menu">
            <div class="item" id="CurrentLocation">
              Current Location
            </div>
            <div class="item" data-value="{{ getCoords('PA') }}">
              Parking Lot A
            </div>
            <div class="item" data-value="{{ getCoords('PE') }}">
              Parking Lot E
            </div>
            <div class="item" data-value="{{ getCoords('PG') }}">
              Parking Lot G
            </div>
            <div class="item" data-value="{{ getCoords('PS') }}">
              Parking Lot S
            </div>
            <div class="item" data-value="{{ getCoords('DDP') }}">
            Dumbo Down Parking
            </div>
            <div class="item" data-value="{{ getCoords('NPS') }}">
              Nutwood Parking Structure
            </div>
            <div class="item" data-value="{{ getCoords('EPS') }}">
              Eastside Parking Structure
            </div>
            <div class="item" data-value="{{ getCoords('SCPS') }}">
              State College Parking Structure
            </div>
          </div>
        </div>

        <div class="ui action input" id="destination">
            <form id="geolocation" action="" method="POST">
                <input type="hidden" id="location" name="location" value="">
                <input type="hidden" id="userLocation" name="userLocation" value="">
                <input type="text" id="dest" name="dest" style="width: 500px" placeholder="Enter Class e.g cs101">
                 <button class="ui blue compact icon button" type="Submit" id="submit">
                    <i class="search icon"></i>
                </button>
                <!-- <button class="ui blue compact icon button" type="Submit" id="Draw">
                   Drawing Manager
               </button> -->
        </div>
    </div>

<div id="sidemenu">
    <div class="ui left vertical menu sidebar" id="left-sidebar">

    <h2 class="ui center aligned header" id="header1">
      <img src="{{ url_for('static', filename='img/asktuffy2.png') }}" class="ui circular image">
      <a href=/map>CSUF</a>
    </h2>
    <h3 class="ui orange center aligned header">
      California State University, Fullerton
    </h3>
    <div class="ui fitted divider"></div>

    <div class="ui fitted divider"></div>
  	<div class="ui simple dropdown item">
      <i class="teal book icon"></i>
          <div class="ui checkbox ebuildings">
              <input type="checkbox" name="example">
              <label> Education Buildings </label>
          </div>
      <div class="menu" style="overflow:auto;max-height:289px;">
          <div class="header">Education Building list in CSUF</div>

          <div class="ui buttons" id="CC">
              <button class="ui button ebuildings marker" id="CC-btn" value="{{ getCoords('CC') }}" type="button"><i class="teal book icon"></i>Children's Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="CC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CS">
              <button class="ui button ebuildings marker" id="CS-btn" value="{{ getCoords('CS') }}" type="button"><i class="teal book icon"></i>Computer Science</button>
              <div class="or"></div>
              <button class="ui positive button" id="CS-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CPAC">
              <button class="ui button ebuildings marker" id="CPAC-btn" value="{{ getCoords('CPAC') }}" type="button"><i class="teal book icon"></i>Clayes Performing Arts Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="CPAC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="DBH">
              <button class="ui button ebuildings marker" id="DBH-btn" value="{{ getCoords('DBH') }}" type="button"><i class="teal book icon"></i>Dan Black Hall </button>
              <div class="or"></div>
              <button class="ui positive button" id="DBH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="EC">
              <button class="ui button ebuildings marker" id="EC-btn" value="{{ getCoords('EC') }}" type="button"><i class="teal book icon"></i>Education Classroom </button>
              <div class="or"></div>
              <button class="ui positive button" id="EC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="E">
              <button class="ui button ebuildings marker" id="E-btn" value="{{ getCoords('E') }}" type="button"><i class="teal book icon"></i>Engineering </button>
              <div class="or"></div>
              <button class="ui positive button" id="E-direction">Direction</button>
          </div>

          <div class="ui buttons" id="H">
              <button class="ui button ebuildings marker" id="H-btn" value="{{ getCoords('H') }}" type="button"><i class="teal book icon"></i>Humanities & Social Science</button>
              <div class="or"></div>
              <button class="ui positive button" id="H-direction">Direction</button>
          </div>

          <div class="ui buttons" id="KHS">
              <button class="ui button ebuildings marker" id="KHS-btn" value="{{ getCoords('KHS') }}" type="button"><i class="teal book icon"></i>Kinesiology & Health Science</button>
              <div class="or"></div>
              <button class="ui positive button" id="KHS-direction">Direction</button>
          </div>

          <div class="ui buttons" id="LH">
              <button class="ui button ebuildings marker" id="LH-btn" value="{{ getCoords('LH') }}" type="button"><i class="teal book icon"></i>Langsdorf Hall </button>
              <div class="or"></div>
              <button class="ui positive button" id="LH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="MH">
              <button class="ui button ebuildings marker" id="MH-btn" value="{{ getCoords('MH') }}" type="button"><i class="teal book icon"></i>Mc Carthy Hall </button>
              <div class="or"></div>
              <button class="ui positive button" id="MH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="PL">
              <button class="ui button ebuildings marker" id="PL-btn" value="{{ getCoords('PL') }}" type="button"><i class="teal book icon"></i>Pollack Library </button>
              <div class="or"></div>
              <button class="ui positive button" id="PL-direction">Direction</button>
          </div>

          <div class="ui buttons" id="PLS">
              <button class="ui button ebuildings marker" id="PLS-btn" value="{{ getCoords('PLS') }}" type="button"><i class="teal book icon"></i>Pollack Library South </button>
              <div class="or"></div>
              <button class="ui positive button" id="PLS-direction">Direction</button>
          </div>

          <div class="ui buttons" id="RGC">
              <button class="ui button ebuildings marker" id="RGC-btn" value="{{ getCoords('RGC') }}" type="button"><i class="teal book icon"></i>Ruby Gerontology Center </button>
              <div class="or"></div>
              <button class="ui positive button" id="RGC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="SGMH">
              <button class="ui button ebuildings marker" id="SGMH-btn" value="{{ getCoords('SGMH') }}" type="button"><i class="teal book icon"></i>Steven G. Mihalyo</button>
              <div class="or"></div>
              <button class="ui positive button" id="SGMH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="UH">
              <button class="ui button ebuildings marker" id="UH-btn" value="{{ getCoords('UH') }}" type="button"><i class="teal book icon"></i>University Hall </button>
              <div class="or"></div>
              <button class="ui positive button" id="UH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="VA">
              <button class="ui button ebuildings marker" id="VA-btn" value="{{ getCoords('VA') }}" type="button"><i class="teal book icon"></i>Visual Arts </button>
              <div class="or"></div>
              <button class="ui positive button" id="VA-direction">Direction</button>
          </div>

      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal users icon"></i>
      <div class="ui checkbox fdbuildings">
              <input type="checkbox" name="example">
              <label> Food & Dining </label>
          </div>
      <div class="menu"  style="overflow:auto;max-height:215px;">
          <div class="header">Places to eat in CSUF</div>

          <div class="ui buttons" id="BE">
              <button class="ui button fdbuildings marker" id="BE-btn" value="{{ getCoords('BE') }}" type="button"><i class="teal users icon"></i>Baja Fresh(TSU)</button>
              <div class="or"></div>
              <button class="ui positive button" id="BE-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CJ">
              <button class="ui button fdbuildings marker" id="CJ-btn" value="{{ getCoords('CJ') }}" type="button"><i class="teal users icon"></i>Carl's Jr</button>
              <div class="or"></div>
              <button class="ui positive button" id="CJ-direction">Direction</button>
          </div>

          <div class="ui buttons" id="GA">
              <button class="ui button fdbuildings marker" id="GA-btn" value="{{ getCoords('GA') }}" type="button"><i class="teal users icon"></i>Gastronome</button>
              <div class="or"></div>
              <button class="ui positive button" id="GA-direction">Direction</button>
          </div>

          <div class="ui buttons" id="JU">
              <button class="ui button fdbuildings marker" id="JU-btn" value="{{ getCoords('JU') }}" type="button"><i class="teal users icon"></i>Juice it Up(TSU)</button>
              <div class="or"></div>
              <button class="ui positive button" id="JU-direction">Direction</button>
          </div>

          <div class="ui buttons" id="PEX">
              <button class="ui button fdbuildings marker" id="PEX-btn" value="{{ getCoords('PEX') }}" type="button"><i class="teal users icon"></i>Panda Express(TSU)</button>
              <div class="or"></div>
              <button class="ui positive button" id="PEX-direction">Direction</button>
          </div>

          <div class="ui buttons" id="MST">
              <button class="ui button fdbuildings marker" id="MST-btn" value="{{ getCoords('MST') }}" type="button"><i class="teal coffee icon"></i>Starbucks(Mihalyo)</button>
              <div class="or"></div>
              <button class="ui positive button" id="MST-direction">Direction</button>
          </div>

          <div class="ui buttons" id="PLST">
              <button class="ui button fdbuildings marker" id="PLST-btn" value="{{ getCoords('PLST') }}" type="button"><i class="teal coffee icon"></i>Starbucks(PL)</button>
              <div class="or"></div>
              <button class="ui positive button" id="PLST-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TSUST">
              <button class="ui button fdbuildings marker" id="TSUST-btn" value="{{ getCoords('TSUST') }}" type="button"><i class="teal coffee icon"></i>Starbucks(TSU)</button>
              <div class="or"></div>
              <button class="ui positive button" id="TSUST-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CPT">
              <button class="ui button fdbuildings marker" id="CPT-btn" value="{{ getCoords('CPT') }}" type="button"><i class="teal users icon"></i>Togo Sandwich(College Park)</button>
              <div class="or"></div>
              <button class="ui positive button" id="CPT-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TSUT">
              <button class="ui button fdbuildings marker" id="TSUT-btn" value="{{ getCoords('TSUT') }}" type="button"><i class="teal users icon"></i>Togo Sandwich(TSU)</button>
              <div class="or"></div>
              <button class="ui positive button" id="TSUT-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal credit card icon"></i>
      <div class="ui checkbox bbuildings">
              <input type="checkbox" name="example">
              <label> ATM & Bank </label>
          </div>
      <div class="menu">
          <div class="header">ATM located in CSUF</div>

          <div class="ui buttons" id="BOFA">
              <button class="ui button bbuildings marker" id="BOFA-btn" value="{{ getCoords('BOFA') }}" type="button"><i class="teal credit card icon"></i>BoFA Bank ATM</button>
              <div class="or"></div>
              <button class="ui positive button" id="BOFA-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CATM">
              <button class="ui button bbuildings marker" id="CATM-btn" value="{{ getCoords('CATM') }}" type="button"><i class="teal credit card icon"></i>Chase Bank ATM</button>
              <div class="or"></div>
              <button class="ui positive button" id="CATM-direction">Direction</button>
          </div>

          <div class="ui buttons" id="WATM">
              <button class="ui button bbuildings marker" id="WATM-btn" value="{{ getCoords('WATM') }}" type="button"><i class="teal credit card icon"></i>Wells Fargo Bank ATM</button>
              <div class="or"></div>
              <button class="ui positive button" id="WATM-direction">Direction</button>
          </div>

          <div class="ui buttons" id="USB">
              <button class="ui button bbuildings marker" id="USB-btn" value="{{ getCoords('USB') }}" type="button"><i class="teal credit card icon"></i>US Bank Branch(Titan Shop)</button>
              <div class="or"></div>
              <button class="ui positive button" id="USB-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal magnet icon"></i>
      <div class="ui checkbox lm">
              <input type="checkbox" name="example">
              <label> Landmarks </label>
          </div>
      <div class="menu">
          <div class="header">Important Landmarks for Events</div>

          <div class="ui buttons" id="BA">
              <button class="ui button lm marker" id="BA-btn" value="{{ getCoords('BA') }}" type="button"><i class="teal magnet icon"></i>Becker Amphitheater</button>
              <div class="or"></div>
              <button class="ui positive button" id="BA-direction">Direction</button>
          </div>

          <div class="ui buttons" id="ECSQ">
              <button class="ui button lm marker" id="ECSQ-btn" value="{{ getCoords('ECSQ') }}" type="button"><i class="teal magnet icon"></i>ECS QUAD</button>
              <div class="or"></div>
              <button class="ui positive button" id="ECSQ-direction">Direction</button>
          </div>

          <div class="ui buttons" id="Q">
              <button class="ui button lm marker" id="Q-btn" value="{{ getCoords('Q') }}" type="button"><i class="teal magnet icon"></i>QUAD</button>
              <div class="or"></div>
              <button class="ui positive button" id="Q-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TW">
              <button class="ui button lm marker" id="TW-btn" value="{{ getCoords('TW') }}" type="button"><i class="teal magnet icon"></i>Titan Walk</button>
              <div class="or"></div>
              <button class="ui positive button" id="TW-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal recycle icon"></i>
      <div class="ui checkbox fbuildings">
              <input type="checkbox" name="example">
              <label> Facilities </label>
          </div>
      <div class="menu">
          <div class="header">Facilities provided by CSUF</div>

          <div class="ui buttons" id="EHS">
              <button class="ui button fbuildings marker" id="EHS-btn" value="{{ getCoords('EHS') }}" type="button"><i class="teal recycle icon"></i>Environment Health & Safety</button>
              <div class="or"></div>
              <button class="ui positive button" id="EHS-direction">Direction</button>
          </div>

          <div class="ui buttons" id="P">
              <button class="ui button fbuildings marker" id="P-btn" value="{{ getCoords('P') }}" type="button"><i class="teal recycle icon"></i>Parking & Transportation Office</button>
              <div class="or"></div>
              <button class="ui positive button" id="P-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TRI">
              <button class="ui button fbuildings marker" id="TRI-btn" value="{{ getCoords('TRI') }}" type="button"><i class="teal recycle icon"></i>Trigen</button>
              <div class="or"></div>
              <button class="ui positive button" id="TRI-direction">Direction</button>
          </div>
      </div>
  </div>

      <div class="ui simple dropdown item">
          <i class="teal car icon"></i>
          <div class="ui checkbox pbuildings">
              <input type="checkbox" name="example">
              <label> Parking Structures   </label>
          </div>
          <div class="menu" style="overflow:auto;max-height:289px;">
              <div class="header">Parking including students and faculties in CSUF</div>

              <div class="ui buttons" id="PA">
                  <button class="ui button pbuildings marker" id="PA-btn" value="{{ getCoords('PA') }}" type="button"><i class="teal car icon"></i>Parking Lot A</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PA-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PAS">
                  <button class="ui button pbuildings marker" id="PAS-btn" value="{{ getCoords('PAS') }}" type="button"><i class="teal car icon"></i>Parking Lot A - South</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PAS-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PC">
                  <button class="ui button pbuildings marker" id="PC-btn" value="{{ getCoords('PC') }}" type="button"><i class="teal car icon"></i>Parking Lot C</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PC-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PCE">
                  <button class="ui button pbuildings marker" id="PCE-btn" value="{{ getCoords('PCE') }}" type="button"><i class="teal car icon"></i>Parking Lot C - East</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PCE-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PCW">
                  <button class="ui button pbuildings marker" id="PCW-btn" value="{{ getCoords('PCW') }}" type="button"><i class="teal car icon"></i>Parking Lot C - West</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PCW-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PE">
                  <button class="ui button pbuildings marker" id="PE-btn" value="{{ getCoords('PE') }}" type="button"><i class="teal car icon"></i>Parking Lot E</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PE-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PF">
                  <button class="ui button pbuildings marker" id="PF-btn" value="{{ getCoords('PF') }}" type="button"><i class="teal car icon"></i>Parking Lot F</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PF-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PG">
                  <button class="ui button pbuildings marker" id="PG-btn" value="{{ getCoords('PG') }}" type="button"><i class="teal car icon"></i>Parking Lot G</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PG-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PH">
                  <button class="ui button pbuildings marker" id="PH-btn" value="{{ getCoords('PH') }}" type="button"><i class="teal car icon"></i>Parking Lot H</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PH-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PI">
                  <button class="ui button pbuildings marker" id="PI-btn" value="{{ getCoords('PI') }}" type="button"><i class="teal car icon"></i>Parking Lot I</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PI-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PR">
                  <button class="ui button pbuildings marker" id="PR-btn" value="{{ getCoords('PR') }}" type="button"><i class="teal car icon"></i>Parking Lot R</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PR-direction">Direction</button>
              </div>

              <div class="ui buttons" id="PS">
                  <button class="ui button pbuildings marker" id="PS-btn" value="{{ getCoords('PS') }}" type="button"><i class="teal car icon"></i>Parking Lot S</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="PS-direction">Direction</button>
              </div>

              <div class="ui buttons" id="AP">
                  <button class="ui button pbuildings marker" id="AP-btn" value="{{ getCoords('AP') }}" type="button"><i class="teal car icon"></i>Arboritum Parking</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="AP-direction">Direction</button>
              </div>

              <div class="ui buttons" id="CPFSP">
                  <button class="ui button pbuildings marker" id="CPFSP-btn" value="{{ getCoords('CPFSP') }}" type="button"><i class="teal car icon"></i>CPFS Parking</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="CPFSP-direction">Direction</button>
              </div>

              <div class="ui buttons" id="DDP">
                  <button class="ui button pbuildings marker" id="DDP-btn" value="{{ getCoords('DDP') }}" type="button"><i class="teal car icon"></i>Dumbo Down Parking</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="DDP-direction">Direction</button>
              </div>

              <div class="ui buttons" id="EPS">
                  <button class="ui button pbuildings marker" id="EPS-btn" value="{{ getCoords('EPS') }}" type="button"><i class="teal car icon"></i>East Side Structure Parking</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="EPS-direction">Direction</button>
              </div>

              <div class="ui buttons" id="NPS">
                  <button class="ui button pbuildings marker" id="NPS-btn" value="{{ getCoords('NPS') }}" type="button"><i class="teal car icon"></i>Nutwood Structure Parking</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="NPS-direction">Direction</button>
              </div>

              <div class="ui buttons" id="SCPS">
                  <button class="ui button pbuildings marker" id="SCPS-btn" value="{{ getCoords('SCPS') }}" type="button"><i class="teal car icon"></i>State College Structure Parking</button>
                  <div class="or"></div>
                  <button class="ui positive button" id="SCPS-direction">Direction</button>
              </div>
          </div>
      </div>

  <div class="ui simple dropdown item">
      <i class="teal search icon"></i>
      <div class="ui checkbox cy">
              <input type="checkbox" name="example">
              <label> Corporation Yard </label>
          </div>
      <div class="menu">
          <div class="header"><a href="#">Corporation Yard</a></div>

          <div class="ui buttons" id="AS">
              <button class="ui button cy marker" id="AS-btn" value="{{ getCoords('AS') }}" type="button"><i class="teal search icon"></i>Automobile Shop</button>
              <div class="or"></div>
              <button class="ui positive button" id="AS-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CSH">
              <button class="ui button cy marker" id="CSH-btn" value="{{ getCoords('CSH') }}" type="button"><i class="teal search icon"></i>Carpenter Shop</button>
              <div class="or"></div>
              <button class="ui positive button" id="CSH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="MC">
              <button class="ui button cy marker" id="MC-btn" value="{{ getCoords('MC') }}" type="button"><i class="teal search icon"></i>Mailing Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="MC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="SR">
              <button class="ui button cy marker" id="SR-btn" value="{{ getCoords('SR') }}" type="button"><i class="teal search icon"></i>Shipping & Recieving</button>
              <div class="or"></div>
              <button class="ui positive button" id="SR-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal laptop icon"></i>
      <div class="ui checkbox abuildings">
              <input type="checkbox" name="example">
              <label> Administrative Building </label>
          </div>
      <div class="menu">
          <div class="header">Located outside of CSUF campus</div>

          <div class="ui buttons" id="CP">
              <button class="ui button abuildings marker" id="CP-btn" value="{{ getCoords('CP') }}" type="button"><i class="teal laptop icon"></i>College Park</button>
              <div class="or"></div>
              <button class="ui positive button" id="CP-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CPW">
              <button class="ui button abuildings marker" id="CPW-btn" value="{{ getCoords('CPW') }}" type="button"><i class="teal laptop icon"></i>College Park - West</button>
              <div class="or"></div>
              <button class="ui positive button" id="CPW-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal thumbs up icon"></i>
      <div class="ui checkbox ssbuildings">
              <input type="checkbox" name="example">
              <label> Student Services </label>
          </div>
      <div class="menu">
          <div class="header">Student services in CSUF</div>

          <div class="ui buttons" id="ARSC">
              <button class="ui button ssbuildings marker" id="ARSC-btn" value="{{ getCoords('ARSC') }}" type="button"><i class="teal thumbs up icon"></i>Admission and Records Service Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="ARSC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="CRC">
              <button class="ui button ssbuildings marker" id="CRC-btn" value="{{ getCoords('CRC') }}" type="button"><i class="teal thumbs up icon"></i>Career Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="CRC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="RH">
              <button class="ui button ssbuildings marker" id="RH-btn" value="{{ getCoords('RH') }}" type="button"><i class="teal thumbs up icon"></i>Resident Hall</button>
              <div class="or"></div>
              <button class="ui positive button" id="RH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="SH">
              <button class="ui button ssbuildings marker" id="SH-btn" value="{{ getCoords('SH') }}" type="button"><i class="teal thumbs up icon"></i>Student Housing</button>
              <div class="or"></div>
              <button class="ui positive button" id="SH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="SRC">
              <button class="ui button ssbuildings marker" id="SRC-btn" value="{{ getCoords('SRC') }}" type="button"><i class="teal thumbs up icon"></i>Student Recreation Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="SRC-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <!-- <i class="download icon"></i>  -->
      <div class="ui checkbox tbuildings">
              <input type="checkbox" name="example">
              <label> Titan Pride </label>
          </div>
      <div class="ui teal left pointing label">pride</div>
      <div class="menu">
          <div class="header">Pride of Titans</div>

          <div class="ui buttons" id="G">
              <button class="ui button tbuildings marker" id="G-btn" value="{{ getCoords('G') }}" type="button"><i class="teal spinner icon"></i>Golleher Alumini House</button>
              <div class="or"></div>
              <button class="ui positive button" id="G-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TG">
              <button class="ui button tbuildings marker" id="TG-btn" value="{{ getCoords('TG') }}" type="button"><i class="teal spinner icon"></i>Titan Gymnasium </button>
              <div class="or"></div>
              <button class="ui positive button" id="TG-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TH">
              <button class="ui button tbuildings marker" id="TH-btn" value="{{ getCoords('TH') }}" type="button"><i class="teal spinner icon"></i>Titan House</button>
              <div class="or"></div>
              <button class="ui positive button" id="TH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TROTC">
              <button class="ui button tbuildings marker" id="TROTC-btn" value="{{ getCoords('TROTC') }}" type="button"><i class="teal spinner icon"></i>Titan ROTC</button>
              <div class="or"></div>
              <button class="ui positive button" id="TROTC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TSH">
              <button class="ui button tbuildings marker" id="TSH-btn" value="{{ getCoords('TSH') }}" type="button"><i class="teal spinner icon"></i>Titan Shop</button>
              <div class="or"></div>
              <button class="ui positive button" id="TSH-direction">Direction</button>
          </div>

          <div class="ui buttons" id="TSU">
              <button class="ui button tbuildings marker" id="TSU-btn" value="{{ getCoords('TSU') }}" type="button"><i class="teal spinner icon"></i>Titan Student Union(TSU)</button>
              <div class="or"></div>
              <button class="ui positive button" id="TSU-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal spinner icon"></i>
      <div class="ui checkbox sbuildings">
              <input type="checkbox" name="example">
              <label> Titan Sports Complex </label>
          </div>
      <div class="menu">
          <div class="header">Athelatics Stadiums</div>

          <div class="ui buttons" id="TS">
              <button class="ui button sbuildings marker" id="TS-btn" value="{{ getCoords('TS') }}" type="button"><i class="teal spinner icon"></i>Titan Stadium</button>
              <div class="or"></div>
              <button class="ui positive button" id="TS-direction">Direction</button>
          </div>

          <div class="ui buttons" id="GF">
              <button class="ui button sbuildings marker" id="GF-btn" value="{{ getCoords('GF') }}" type="button"><i class="teal spinner icon"></i>Goodwin Field</button>
              <div class="or"></div>
              <button class="ui positive button" id="GF-direction">Direction</button>
          </div>

          <div class="ui buttons" id="AF">
              <button class="ui button sbuildings marker" id="AF-btn" value="{{ getCoords('AF') }}" type="button"><i class="teal spinner icon"></i>Anderson Field</button>
              <div class="or"></div>
              <button class="ui positive button" id="AF-direction">Direction</button>
          </div>
      </div>
  </div>

  <div class="ui simple dropdown item">
      <i class="teal plus icon"></i>
      <div class="ui checkbox embuildings">
              <input type="checkbox" name="example">
              <label> Emergency </label>
          </div>
      <div class="menu">
          <div class="header">CSUF Emergency buildings</div>

          <div class="ui buttons" id="SHCC">
              <button class="ui button embuildings marker" id="SHCC-btn" value="{{ getCoords('SHCC') }}" type="button"><i class="teal user doctor icon"></i>Student Health & Counseling Center</button>
              <div class="or"></div>
              <button class="ui positive button" id="SHCC-direction">Direction</button>
          </div>

          <div class="ui buttons" id="UP">
              <button class="ui button embuildings marker" id="UP-btn" value="{{ getCoords('UP') }}" type="button"><i class="teal plus icon"></i>University Police</button>
              <div class="or"></div>
              <button class="ui positive button" id="UP-direction">Direction</button>
          </div>
      </div>

  </div>
</form>
  <div id="legendmodal" class="ui modal">
         <p><strong>Education Buildings</strong><br>
           CC - Children's Center|| CS - Computer Science|| CPAC - Clayes Performing Arts Center||
           DBH - Dan Black Hall|| EC - Education Classroom|| E - Engineering|| H - Humanities & Social Science || KHS - Kinesiology & Health Science|| LH - Langsdorf Hall
           || MH - McCarthy Hall|| PL - Pollak library|| PLS - Pollak Library South|| RGC - Ruby Gerontology Center
           || SGMH - Steven G. Mihalyo|| UH - University Hall|| VA - Visual Arts</p>
        <p><strong>Food & Dining</strong><br>
           BE - Baja Fresh|| CJ - Carl's Jr|| GA - Gastronome|| JU - Juice It Up|| PEX - Panda Express||
           MST - Mihaylo Starbucks|| PLST - Pollak Library Starbucks|| TSUST - TSU Starbucks||
           CPT - College Park Togos|| TSUT - TSU Togos</p>
           <p><strong>ATM & Bank</strong><br>
            BOFA - BOFA Bank ATM|| CATM - Chase ATM|| WATM - Wells Fargo ATM|| USB - US Bank Branch</p>
            <p><strong>Landmarks</strong><br>
            BA - Becker Amphitheater|| ECSQ - ECS Quad|| Q - Quad|| TW - Titan Walk</p>
            <p><strong>Facilities</strong><br>
            EHS - Environment Health & Safety|| TRI - Trigen|| P - Parking and Transportation Office</p>
            <p><strong>Parking Structures</strong><br>
            PA - Parking Lot A|| PAS - Parking Lot A-South|| PC - Parking Lot C|| PCE - Parking Lot C-East
            || PCW - Parking Lot C-West|| PE - Parking Lot E|| PF - Parking Lot F|| PG - Parking Lot G||
            PH - Parking Lot H|| PI - Parking Lot I|| PS - Parking Lot S|| AP - Arboritum Parking||
            CPFSP - CPFS Parking|| DDP - Dumbo Down Parking|| EPS - Eastside Parking Structure||
            NPS - Nutwood Parking Structure|| SCPS - Stage College Parking</p>
            <p><strong>Corporation Yard</strong><br>
            AS - Automobile Shop|| CSH - Carpenter Shop|| MC - Mailing Center|| SR - Shipping & Recieving</p>
            <p><strong>Administrative Building</strong><br>
            CP - College Park|| CPW - College Park West</p>
            <p><strong>Student Services</strong><br>
            ARSC - Admission and Records Service Center|| CRC - Career Center|| RH - Resident Hall||
            SH - Student Housing|| SRC - Student Recreation Center</p>
            <p><strong>Titan Pride</strong><br>
            G - Golleher Alumni House || TG - Titan Gymnasium|| TH - Titan House|| TROTC - Titan ROTC|| TSH - Titan Shop
            || TSU - Titan Student Union</p>
            <p><strong>Titan Sports Complex</strong><br>
            TST - Titan Stadium|| GF - Goodwin Field|| AF - Anderson Field</p>
            <p><strong>Emergency</strong><br>
            SHCC - Student Health & Counseling Center|| UP - University Police
         </p>
  </div>
  </div>
{% endblock %}

{% block content %}

{% block display %}{% endblock %}
    <div id="map"></div>
{% endblock %}

{% block mapscript %}
	<script type="text/javascript" src="{{ url_for('static', filename='scripts/polygons.js') }}"></script>
	<script>
    var latlong;
    var map;
    var GeoMarker;
    var directionsDisplay;
    var directionsService;
    var markers = []
    var contentString;
    var markerButtons = document.getElementsByClassName('ui button marker');
    var dirButtons = document.getElementsByClassName('ui button positive');

    const csufLocation = {
            lat: 33.880300,
            lng: -117.885076
    };

    var EducationBuilding = [PLSCoords, PLCoords, RGCCoords, UHCoords, LHCoords, MHCoords, DBHCoords, ECCoords, ECoords, HCoords];
    var parkingStructures = [EastSideP, lotE, NutwoodP, lotR, DDownnsP, lotA, lotASouth, lotG, ArboP, lotI, lotF, CPFSParkingLot, lotS, lotCEast, lotCWest, lotC, lotH, StateCollegeParkingStructure];

    initMap();
    {% block saveLocation %}{% endblock %}

    if (navigator.geolocation) { // Call geolocation to get user's current position
        navigator.geolocation.getCurrentPosition(getCurrPos, errorCallback, {
            enableHighAccuracy: true
        });
    }

    function getCurrPos(position) {
        curLoc = position.coords.latitude + "," + position.coords.longitude;
        document.getElementById('location').value = curLoc;
        document.getElementById('userLocation').value = curLoc;
    }

    function errorCallback() {}

    function fillContent(bldid, bldname, desc, link, image) {
    	return 	'<div id="bodyContent">'+ image +
                '<p><b>'+ bldname + '</b> :'+ desc + '</p>'+
                '<p><a href="' + link + '">Link to '+ bldname +'</a> '+
                '</div>'+
                '</div>';
    }

    function pickImage(bld){
			var image = '<img src="static/img/' + bld + '.jpg" height="200" width="360">';
			return image;
    }

    for (let i = 0; i < markerButtons.length; i++) {
        var button = markerButtons[i];
        var latlng = button.value.split(',');
        var lat = parseFloat(latlng[0]);
        var lng = parseFloat(latlng[1]);
        var originalColor;
        var flag;

        var marker = new google.maps.Marker({
            position: new google.maps.LatLng(lat, lng),
            icon: defaultIcon,
            animation: google.maps.Animation.DROP
        });
        // Two event listeners - one for mouseover, one for mouseout,
        // to change the colors back and forth.
        marker.addListener('mouseover', function() {
          originalColor = this.getIcon();
          this.setIcon(highlightedIcon);
          this.setAnimation(google.maps.Animation.BOUNCE);
        });

        marker.addListener('click', function() {
          flag = "OK";
        });

        marker.addListener('mouseout', function() {

          if (flag == "OK") {
            this.setIcon(defaultIcon);
          }
          else {
            this.setIcon(originalColor);
          }
          flag = "NOK";
          this.setAnimation(null);
        });

        markers.push(marker);
        marker.setMap(map);
        marker.setVisible(false);

        button.addEventListener('click', function() {

            if (this.className == "ui button ebuildings marker") {
              markers[i].setIcon(ebuildings);
            }
            else if (this.className == "ui button fdbuildings marker") {
              markers[i].setIcon(fdbuildings);
            }
            else if (this.className == "ui button bbuildings marker") {
              markers[i].setIcon(bbuildings);
            }
            else if (this.className == "ui button lm marker") {
              markers[i].setIcon(lm);
            }
            else if (this.className == "ui button fbuildings marker") {
              markers[i].setIcon(fbuildings);
            }
            else if (this.className == "ui button pbuildings marker") {
              markers[i].setIcon(pbuildings);
            }
            else if (this.className == "ui button cy marker") {
              markers[i].setIcon(cy);
            }
            else if (this.className == "ui button abuildings marker") {
              markers[i].setIcon(abuildings);
            }
            else if (this.className == "ui button ssbuildings marker") {
              markers[i].setIcon(ssbuildings);
            }
            else if (this.className == "ui button tbuildings marker") {
              markers[i].setIcon(tbuildings);
            }
            else if (this.className == "ui button sbuildings marker") {
              markers[i].setIcon(sbuildings);
            }
            else if (this.className == "ui button embuildings marker") {
              markers[i].setIcon(embuildings);
            }
            else {
              markers[i].setIcon(defaultIcon);
            }

            if (this.value != "ON") {

                markers[i].setVisible(true);
                this.value="ON";
                //Added here for Info-Window
                var bldid = this.id;
                //for getting abv
                bldid = bldid.split("-");
                var array = maindict[bldid[0]];
                var image = pickImage(bldid[0]);
                contentString = '<div id="content">'+
                				'<button class="ui green button" id="' + bldid[0] +
                				'-direction" onclick="document.getElementById(this.id).click()">Direction</button>' +
                				'<h1 id="firstHeading" class="firstHeading">'+ array[0] +'</h1>';

                contentString += fillContent(bldid[0], array[0], array[1], array[2], image);

                var infoBubble = new InfoBubble({
                    content: contentString,
                    autopanMargin: 1000,
                    maxWidth: 600,
                    minWidth: 550,
                    borderWidth: 2,
                    borderColor: '#000000',
                    padding: 20,
                    shadowStyle: 1,
                    //disableAutoPan: true,
                    closeSrc: 'https://static.wixstatic.com/media/34b396_c3723d3c68e941229e546a46a69311eb~mv2.png/v1/fit/w_750,h_750/34b396_c3723d3c68e941229e546a46a69311eb~mv2.png'
                });
                markers[i].addListener('click', function() {
                  infoBubble.open(map, markers[i]);
                });
                // Till here Info-Window
                markers[i].setTitle(array[0]);
                markers[i].setAnimation(google.maps.Animation.DROP);
            }
            else {
                markers[i].setVisible(false);
                this.value="OFF";
            }
        });
    }


    for (let i = 0; i < dirButtons.length; i++) {
        var button = dirButtons[i];
        if (button.className === 'ui positive button') {
            button.addEventListener('click', function() {
                document.getElementById('dest').style["color"] = "white";
                document.getElementById('dest').value = this.id;
            });
        }
    }

    var educationBuildingPlygon = new google.maps.Polygon({
      clickable: true,
      paths: EducationBuilding,
      strokeColor: '#000000',
      strokeOpacity: 0,
      strokeWeight: 2,
      fillColor: '#FFA500',
      fillOpacity: 1
    });

    var parkingPolygon = new google.maps.Polygon({
      paths: parkingStructures,
      strokeColor: '#000000',
      strokeOpacity: 0,
      strokeWeight: 2,
      fillColor: '#00B0FF',
      fillOpacity: 1
    });

    var campusPath = new google.maps.Polyline({
     path: campusBorder,
     geodesic: true,
     strokeColor: '#ffff00',
     strokeOpacity: .6,
     strokeWeight: 5
   	});

   	campusPath.setMap(map);
    educationBuildingPlygon.setMap(map);
    parkingPolygon.setMap(map);


    function initMap() { // displays map on page, sets up variables for the directions service for use later
        var travellingMode = "WALKING";
        directionsDisplay = new google.maps.DirectionsRenderer;
        directionsService = new google.maps.DirectionsService;
        var mapOptions = {
            zoom: 17,
            center: csufLocation,
            streetViewControl: false,
            mapTypeControl: false,
            gestureHandling: 'greedy',
            styles: mapstyles
            };
        map = new google.maps.Map(document.getElementById('map'), mapOptions);

        directionsDisplay.setMap(map);

        {% block maproute %} {% endblock %}
    }
</script>
<script type="text/javascript" src="{{ url_for('static', filename='scripts/extscripts.js') }}"></script>
{% endblock %}
